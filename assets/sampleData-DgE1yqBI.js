import{j as n}from"./jsx-runtime-DF2Pcvd1.js";import{r as x}from"./index-B2-qRKKC.js";import{d as b,g as k,i as D}from"./timeline.constants-Dto3cMpA.js";const f=({row:t,rowIndex:e,config:a,totalWidth:r})=>{const l=e%2===0;return n.jsx("div",{className:`timeline-row absolute border-b border-neutral-100 ${l?"bg-white":"bg-neutral-25"} hover:bg-neutral-50 transition-colors`,style:{top:`${e*a.rowHeight}px`,height:`${a.rowHeight}px`,width:`${r}px`},role:"row","aria-label":`${t.label} timeline row`,children:n.jsx("div",{className:"absolute inset-0"})})};try{f.displayName="TimelineRow",f.__docgenInfo={description:"",displayName:"TimelineRow",props:{row:{defaultValue:null,description:"",name:"row",required:!0,type:{name:"TimelineRow"}},rowIndex:{defaultValue:null,description:"",name:"rowIndex",required:!0,type:{name:"number"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"TimelineConfig"}},totalWidth:{defaultValue:null,description:"",name:"totalWidth",required:!0,type:{name:"number"}}}}}catch{}const N=t=>({day:{viewMode:"day",pixelsPerDay:40,columnWidth:40,labelFormat:a=>a.toLocaleDateString("en-US",{weekday:"short",day:"numeric"}),timeUnit:"day"},week:{viewMode:"week",pixelsPerDay:11.428571428571429,columnWidth:80,labelFormat:a=>{const r=v(a);return`Week ${M(r)}`},timeUnit:"week"},month:{viewMode:"month",pixelsPerDay:4,columnWidth:120,labelFormat:a=>a.toLocaleDateString("en-US",{month:"short",year:"numeric"}),timeUnit:"month"}})[t],y=(t,e,a)=>{const r=b(t,e);return Math.max(0,r*a)},R=(t,e,a)=>{const r=b(e,t)+1;return Math.max(20,r*a)},W=(t,e)=>{const a=e.getBoundingClientRect();return{x:t.clientX-a.left+e.scrollLeft,y:t.clientY-a.top+e.scrollTop}},_=(t,e,a)=>Math.floor((t-a)/e),v=t=>{const e=new Date(t),a=e.getDay(),r=a===0?-6:1-a;return e.setDate(e.getDate()+r),e.setHours(0,0,0,0),e},M=t=>{const e=new Date(t.getFullYear(),0,1),a=(t.getTime()-e.getTime())/864e5;return Math.ceil((a+e.getDay()+1)/7)},w=x.forwardRef(({rows:t,startDate:e,endDate:a,config:r,timeScale:l,children:m},o)=>{const c=k(e,a,l.timeUnit),h=c.length*l.columnWidth,g=t.length*r.rowHeight,d=new Date,u=d>=e&&d<=a?y(d,e,l.pixelsPerDay):-1;return n.jsxs("div",{className:"timeline-grid flex w-full h-full",children:[n.jsxs("div",{className:"timeline-left-panel flex-shrink-0 bg-neutral-50 border-r border-neutral-200",style:{width:`${r.leftPanelWidth}px`},children:[n.jsx("div",{className:"timeline-header-spacer bg-neutral-100 border-b border-neutral-200 flex items-center px-4",style:{height:`${r.headerHeight}px`},children:n.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"Resources"})}),n.jsx("div",{className:"timeline-rows",children:t.map(i=>n.jsx("div",{className:"timeline-row-label flex items-center px-4 border-b border-neutral-100 hover:bg-neutral-100 transition-colors",style:{height:`${r.rowHeight}px`},role:"rowheader","aria-label":`${i.label} row`,children:n.jsxs("div",{className:"flex items-center space-x-3",children:[i.avatar&&n.jsx("img",{src:i.avatar,alt:"",className:"w-8 h-8 rounded-full bg-neutral-200"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-neutral-900 truncate",children:i.label}),n.jsxs("div",{className:"text-xs text-neutral-500",children:[i.tasks.length," task",i.tasks.length!==1?"s":""]})]})]})},i.id))})]}),n.jsx("div",{className:"timeline-right-panel flex-1 overflow-auto timeline-scrollbar",children:n.jsxs("div",{ref:o,className:"timeline-content relative",style:{width:`${h}px`,minHeight:`${r.headerHeight+g}px`},children:[n.jsx("div",{className:"timeline-header sticky top-0 bg-white border-b border-neutral-200 z-10",style:{height:`${r.headerHeight}px`},role:"row",children:c.map((i,p)=>n.jsx("div",{className:"timeline-header-cell absolute flex items-center justify-center border-r border-neutral-100 text-xs font-medium text-neutral-700",style:{left:`${p*l.columnWidth}px`,width:`${l.columnWidth}px`,height:"100%",backgroundColor:D(i)?"#fef3c7":"white"},role:"columnheader","aria-label":`${l.labelFormat(i)}`,children:l.labelFormat(i)},i.toISOString()))}),n.jsxs("div",{className:"timeline-grid-content relative",children:[c.map((i,p)=>n.jsx("div",{className:"absolute top-0 bottom-0 border-r",style:{left:`${p*l.columnWidth}px`,borderColor:r.gridLineColor},"aria-hidden":"true"},`line-${i.toISOString()}`)),u>=0&&n.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 z-15",style:{left:`${u}px`,backgroundColor:r.currentDateColor},"aria-hidden":"true",children:n.jsx("div",{className:"absolute -top-2 -left-6 px-1 py-0.5 text-xs text-white rounded text-center",style:{backgroundColor:r.currentDateColor},children:"Today"})}),t.map((i,p)=>n.jsx(f,{row:i,rowIndex:p,config:r,totalWidth:h},i.id)),m]})]})})]})});try{w.displayName="TimelineGrid",w.__docgenInfo={description:"",displayName:"TimelineGrid",props:{rows:{defaultValue:null,description:"",name:"rows",required:!0,type:{name:"TimelineRow[]"}},startDate:{defaultValue:null,description:"",name:"startDate",required:!0,type:{name:"Date"}},endDate:{defaultValue:null,description:"",name:"endDate",required:!0,type:{name:"Date"}},config:{defaultValue:null,description:"",name:"config",required:!0,type:{name:"TimelineConfig"}},timeScale:{defaultValue:null,description:"",name:"timeScale",required:!0,type:{name:"TimeScale"}}}}}catch{}const S=[{id:"row-1",label:"Frontend Team",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face",tasks:["task-1","task-2","task-8"]},{id:"row-2",label:"Backend Team",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=32&h=32&fit=crop&crop=face",tasks:["task-3","task-4","task-9"]},{id:"row-3",label:"Design Team",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=32&h=32&fit=crop&crop=face",tasks:["task-5","task-6","task-10"]},{id:"row-4",label:"QA Team",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=32&h=32&fit=crop&crop=face",tasks:["task-7","task-11"]}],T=new Date,s=t=>{const e=new Date(T);return e.setDate(e.getDate()+t),e},P={"task-1":{id:"task-1",title:"Component Architecture",startDate:s(-7),endDate:s(-3),progress:100,assignee:"John Doe",rowId:"row-1",color:"#10b981",isMilestone:!1,dependencies:[]},"task-2":{id:"task-2",title:"UI Implementation",startDate:s(-2),endDate:s(5),progress:60,assignee:"John Doe",rowId:"row-1",color:"#3b82f6",isMilestone:!1,dependencies:["task-1"]},"task-3":{id:"task-3",title:"API Development",startDate:s(-5),endDate:s(2),progress:80,assignee:"Jane Smith",rowId:"row-2",color:"#8b5cf6",isMilestone:!1,dependencies:[]},"task-4":{id:"task-4",title:"Database Setup",startDate:s(3),endDate:s(8),progress:25,assignee:"Jane Smith",rowId:"row-2",color:"#f59e0b",isMilestone:!1,dependencies:["task-3"]},"task-5":{id:"task-5",title:"Design System",startDate:s(-10),endDate:s(-5),progress:100,assignee:"Alice Johnson",rowId:"row-3",color:"#ec4899",isMilestone:!1,dependencies:[]},"task-6":{id:"task-6",title:"User Research",startDate:s(-3),endDate:s(4),progress:45,assignee:"Alice Johnson",rowId:"row-3",color:"#06b6d4",isMilestone:!1,dependencies:["task-5"]},"task-7":{id:"task-7",title:"Testing Phase",startDate:s(6),endDate:s(12),progress:0,assignee:"Bob Wilson",rowId:"row-4",color:"#ef4444",isMilestone:!1,dependencies:["task-2","task-4"]},"task-8":{id:"task-8",title:"Launch Milestone",startDate:s(15),endDate:s(15),progress:0,assignee:"Team Lead",rowId:"row-1",color:"#f97316",isMilestone:!0,dependencies:["task-7"]},"task-9":{id:"task-9",title:"Performance Optimization",startDate:s(1),endDate:s(7),progress:30,assignee:"Jane Smith",rowId:"row-2",color:"#84cc16",isMilestone:!1,dependencies:["task-3"]},"task-10":{id:"task-10",title:"Accessibility Audit",startDate:s(4),endDate:s(9),progress:20,assignee:"Alice Johnson",rowId:"row-3",color:"#6366f1",isMilestone:!1,dependencies:["task-6"]},"task-11":{id:"task-11",title:"Bug Fixes",startDate:s(10),endDate:s(14),progress:0,assignee:"Bob Wilson",rowId:"row-4",color:"#d946ef",isMilestone:!1,dependencies:["task-7"]}},C=(t=100)=>{const e=[],a={},r=["Frontend","Backend","Design","QA","DevOps","Marketing","Sales","Support"],l=["#10b981","#3b82f6","#8b5cf6","#f59e0b","#ec4899","#06b6d4","#ef4444","#f97316","#84cc16","#6366f1"],m=["Development","Testing","Design","Research","Planning","Review","Deployment","Optimization"];for(let o=0;o<Math.min(r.length,Math.ceil(t/12));o++)e.push({id:`row-${o+1}`,label:`${r[o]} Team`,avatar:`https://images.unsplash.com/photo-${15e11+o}?w=32&h=32&fit=crop&crop=face`,tasks:[]});for(let o=0;o<t;o++){const c=o%e.length,h=Math.floor(Math.random()*60)-30,g=Math.floor(Math.random()*14)+1,d=`task-${o+1}`,u={id:d,title:`${m[o%m.length]} ${Math.floor(o/m.length)+1}`,startDate:s(h),endDate:s(h+g),progress:Math.floor(Math.random()*101),assignee:`User ${o+1}`,rowId:e[c].id,color:l[o%l.length],isMilestone:Math.random()<.1,dependencies:o>0&&Math.random()<.3?[`task-${Math.floor(Math.random()*o)+1}`]:[]};a[d]=u,e[c].tasks.push(d)}return{rows:e,tasks:a}},F=()=>({startDate:s(-15),endDate:s(25)});export{w as T,F as a,R as b,y as c,W as d,_ as e,P as f,N as g,C as h,S as s};
